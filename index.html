<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paint Your Own Picture</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Paint Your Own Picture</h1>

    <!-- Dark Mode Toggle Button -->
    <button id="theme-toggle" onclick="toggleTheme()">Toggle Dark Mode</button>

    <div>
        <p>
            Set Width 
            <input type="text" onchange="setWidth(this.value)" />
            Set Height 
            <input type="text" onchange="setHeight(this.value)" />
        </p>

        <canvas id="canvas1" onmousedown="startPaint()" 
                onmousemove="doPaint(event.offsetX, event.offsetY)" 
                onmouseup="endPaint()">
        </canvas>

        <p>
            Brush Color: 
            <input type="color" value="#000" onchange="changeColor(this.value)" />
            <span id="brush-preview"></span> <!-- Brush Preview -->
        </p>

        <p>
            Brush Size:
            <input type="range" id="sizeInput" min="1" max="50" value="50" oninput="resizeBrush(this.value); updateBrushPreview();" />
            <output id="sizeOutput">50</output>
        </p>

        <p>
            Opacity:
            <input type="range" id="opacityInput" min="0" max="1" step="0.1" value="1" oninput="changeOpacity(this.value)" />
        </p>

        <p>
            <button onclick="setEraser()">Eraser</button>
            <button onclick="setBrush()">Brush</button>
        </p>
        
        <p>
            <input type="file" id="backgroundImage" onchange="uploadBackground()" />
            <input type="button" id="clearCanvasBackground" value="Clear Background" onclick="clearBackground()" />
            <input type="button" id="clear" value="Clear Canvas" onclick="clearCanvas()" />
            <button onclick="undo()">Undo</button>
            <button onclick="redo()">Redo</button>
        </p>

        <p>
            <button onclick="downloadImage()">Save as PNG</button>
            <button onclick="saveCanvasState()">Save Canvas State</button>
            <input type="file" onchange="loadCanvasState(this.files[0])" />
        </p>

        <div id="loading-spinner">Loading...</div>
    </div>

    <script src="script.js"></script>
</body>
</html>
